
from rome import Rome

class Symbol(object):


    def __init__(self):
        self.rome = Rome()
        self.symbolToRome = {}

    def value(self, symbolStr):
        return self.symbolToRome.get(symbolStr, "NULL")

    def addCondition(self, conditionStr):
        
        if False == isinstance(conditionStr, basestring):
            return False

        if 2 != conditionStr.count(" "):
            return False

        if 1 != conditionStr.count(" is "):
            return False

        conditions = conditionStr.split(" ")

        symbol = conditions[0]
        romeNumber = conditions[-1]

        if False == self.rome.isValid(romeNumber):
            return False

        self.symbolToRome.setdefault(symbol, romeNumber)
        return True
